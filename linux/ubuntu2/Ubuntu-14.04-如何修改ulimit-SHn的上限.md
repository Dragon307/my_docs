
如何修改 Ubuntu 14.04 的 ulimit -SHn 上限
================================================

系统默认的 “`ulimit -SHn`” 值是 `1024`，例如：

```shell
$ ulimit -SHn
1024
```

我们可以通过修改配置文件来改变这个值，但在默认的情况下，这个值最大也只能设置为 `1M = 1048576`，即 `100W` 左右的大小，超过这个值的时候，会得到错误提示。

其实，这个上限值是可以配置的，我们可以查看如下命令：

```shell
$ sysctl fs.nr_open

fs.nr_open = 1048576
```

可以看到，系统把 “`fs.nr_open`” 的值设置为前面说过的 `1048576`，即 `1M` （`100W` ），可以通过下面的命令来改变这个上限：

```shell
$ sudo sysctl -w fs.nr_open=2097152

fs.nr_open = 2097152
```

注意：“`fs.nr_open=2097152`” 这里的 “`等号`” 前后不能有空格，否则会报错。

